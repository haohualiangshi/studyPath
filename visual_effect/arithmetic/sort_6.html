<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>插入排序-希尔排序</title>
</head>

<body>
    <p>希尔排序也称缩小增量排序, 它是直接插入排序的另外一个升级版, 实质就是分组插入排序. 希尔排序以其设计者希尔(Donald Shell)的名字命名, 并于1959年公布.</p>
    <ul>
        <li>算法的基本思想:</li>
        <li>将数组拆分为若干个子分组, 每个分组由相距一定"增量"的元素组成. 比方说将[0,1,2,3,4,5,6,7,8,9,10]的数组拆分为"增量"为5的分组, 那么子分组分别为 [0,5], [1,6], [2,7], [3,8], [4,9] 和 [5,10].</li>
        <li>然后对每个子分组应用直接插入排序.</li>
        <li>逐步减小"增量", 重复步骤1,2.</li>
        <li>直至"增量"为1, 这是最后一个排序, 此时的排序, 也就是对全数组进行直接插入排序.</li>
    </ul>
    <script type="text/javascript">
    function directInsertionSort(array, gap) {
        gap = (gap == undefined) ? 1 : gap;
        var length = array.length,
            index, current;
        for (var i = gap; i < length; i++) {
            index = i - gap;
            current = array[i];
            while (index >= 0 && array[index] > current) {
                array[index + gap] = array[index];
                index -= gap;
            }
            if (index + gap != i) {
                array[index + gap] = current;
            }
        }
        return array;
    }

    function shellSort(array) {
        var length = array.length,
            gap = length >> 1,
            current, i, j;
        while (gap > 0) {
            directInsertionSort(array, gap);
            gap = gap >> 1;
        }
        return array;
    }

    var testArr = [1, 5, 3, 7, 8, 7, 6, 4, 2]
    console.log(shellSort(testArr));
    </script>
</body>

</html>
