<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>例子</title>
    <script type="text/javascript" src="../lib/vue.js"></script>
</head>

<body>
    <div id="app">
    <p>total:{{total}}</p>
        <my-btn @get-total="getTotalFun"></my-btn>
        <my-btn @get-total="getTotalFun"></my-btn>
        <my-btn @get-total="getTotalFun"></my-btn>
    </div>
    <script type="text/javascript">
    var my_btn = {
        template: `<button @click="add">{{counter}}</button>`,
        data: function() {
            return {
                counter: 0
            }
        },
        methods: {
            add: function() {
                this.counter += 1;
                // 自定义函数不可以使用驼峰式方法：eg：getTotal是错的
                this.$emit('get-total');
            }
        }
    }
    new Vue({
        el: "#app",
        components: {
            "my-btn": my_btn,
        },
        data:{
        	total:0
        },
        methods:{
        	getTotalFun:function(){
        		this.total+=1;
        	}
        }

    })
    </script>
</body>

</html>
